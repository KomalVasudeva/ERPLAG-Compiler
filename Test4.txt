<<module test>>
takes input [c3:boolean] ;
returns [kk:integer, dd:real] ;
start
	switch (c3)
	start
		case true :
			kk := 1 ;
			break ;
		case false :
			kk := 0 ;
			break ;
	end

	declare i:integer ;
	declare hidden_dd:real ;
	for (i in 0 .. 4)
	start
		declare dd:real ;
		dd := dd + i/4 ;
		switch (i)
		start
			case 4 :
				hidden_dd := dd ;
				break ;
			default :
				break ;
		end
	end

	dd := hidden_dd ;
end

<<module sum>>
takes input [b:array[6 .. 9] of boolean];
returns [d:real, k:integer, c:boolean] ;
start
	[k, d] := use module test with parameters c ;
	switch (k)
	start
		case 0 :
			c := true ;
			break ;
		case 1 :
			c := false ;
			break ;
		default :
			break ;
	end
end

<<<driver program>>>
start
	
	declare i,j:integer ;
	declare dd:real ;
	declare cc:boolean ;

	declare bb:array[6 .. 9] of boolean ;

	for (i in 0 .. 5)
	start
		[dd, j, cc] := use module sum with parameters bb ;
	end
	
end
